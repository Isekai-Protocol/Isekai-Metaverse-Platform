(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e613911"],{"320f":function(t,e,s){"use strict";var i=s("c924"),a=s.n(i);a.a},6078:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"LinkPurse"},[s("div",{staticClass:"content"},[t._m(0),s("p",{staticClass:"Connect"},[t._v(t._s(t.$t("LinkPurseText1")))]),s("p",{staticClass:"Nifty"},[t._v("N"+t._s(t.$t("LinkPurseText2")))]),s("div",{staticClass:"operation u-f-justify  mailbox cursor",on:{click:t.walletClick}},[t._m(1),t._v("\n\t\t\t"+t._s(t.$t("LinkPurseText3"))+"\n\t\t")]),s("el-collapse-transition",[t.hint?s("p",{staticClass:"Nifty",staticStyle:{color:"#91495A"}},[t._v(t._s(t.hint))]):t._e()]),s("p",{staticClass:"Nifty"},[t._v(t._s(t.$t("LinkPurseText4"))+t._s(t.calculateWallet.length))]),t._l(t.calculateWallet,function(e,i){return s("div",{staticClass:"puresItem u-f-item u-f-jsb",attrs:{kye:i}},[s("div",{staticClass:"puresItemName singleLine"},[t._v(t._s(e.address))]),s("div",{staticClass:"u-f-item"},[t.calculateWallet.length>1?s("div",{staticClass:"puresItemOperation cursor",on:{click:function(s){return t.breakItem(e)}}},[t._v(t._s(t.$t("LinkPurseText5")))]):t._e()])])}),s("p",{staticClass:"Nifty textCenth cursor",on:{click:t.laterClick}},[t._v(t._s(t.$t("LinkPurseText7")))])],2),s("div",{staticClass:"support u-f cursor"},[t._m(2),s("p",[t._v(t._s(t.$t("LinkPurseText8")))])]),s("popUp",{attrs:{showDialog:t.popUpHint,borderBottom:!1,top:!1}},[s("p",{staticClass:"popUpHint"},[t._v("您的 MetaMask 钱包已在运行中，请在浏览器打开 MetaMask 扩展进行登操作")]),s("div",{staticClass:"popUpHintOperation cursor",on:{click:function(e){t.popUpHint=!1}}},[t._v("确认")])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{width:"121px",height:"78px"}},[s("img",{staticClass:"img",attrs:{src:"https://ec.wexiang.vip/source/img1/34.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Metamask"},[s("img",{staticClass:"img",attrs:{src:"https://ec.wexiang.vip/source/img1/30.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{width:"28px",height:"29px"}},[s("img",{staticClass:"img",attrs:{src:"https://ec.wexiang.vip/source/img1/31.png",alt:""}})])}],n=(s("78ce"),s("ac6a"),s("f3e2"),s("c030")),c=s("50c5"),r={components:{popUp:c["a"]},data:function(){return{info:{wallet:[]},hint:"",address:"",popUpHint:!1}},created:function(){this.getUserInfo()},computed:{calculateWallet:function(){var t=[];return this.info.wallet.forEach(function(e){1!=e.type&&t.push(e)}),t}},methods:{laterClick:function(){this.$router.push({path:"/fullScreen/register/validationChoose"})},getUserInfo:function(){var t=this;this.$post({method:"user.info"}).then(function(e){t.info=e.data.data})},walletClick:function(){var t=this,e=this;ethereum.enable().then(function(){var t=new n["a"].providers.Web3Provider(web3.currentProvider);t.getNetwork().then(function(s){if(1!=s["chainId"])return alert("请更换区块链"),!1;t.listAccounts().then(function(t){e.address=t[0]});var i=t.getSigner(),a=(Date.now()/1e3).toFixed(0),n=a-a%600;i.signMessage("Signning in to "+document.domain+"at"+n,e.address,"test password!").then(function(t){e.$post({method:"user.checksign",address:e.address,sign:t}).then(function(t){t.data.status?e.$post({method:"user.addwallect",address:e.address},!1).then(function(t){t.data.status?(e.getUserInfo(),e.hint=""):e.hint=t.data.msg}):e.$message({showClose:!0,message:t.data.msg,type:"error"})})})})}).catch(function(e){-32002==e.code&&(t.popUpHint=!0)})},breakItem:function(t){var e=this;this.$post({method:"user.breakwallect",address:t.address}).then(function(t){e.getUserInfo()})}}},o=r,l=(s("320f"),s("2877")),u=Object(l["a"])(o,i,a,!1,null,"9a977b9e",null);e["default"]=u.exports},c924:function(t,e,s){}}]);