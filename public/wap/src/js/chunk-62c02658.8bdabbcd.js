(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62c02658"],{"268f":function(t,e,o){t.exports=o("fde4")},"32a6":function(t,e,o){var a=o("241e"),i=o("c3a1");o("ce7e")("keys",function(){return function(t){return i(a(t))}})},3846:function(t,e,o){o("9e1e")&&"g"!=/./g.flags&&o("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:o("0bfb")})},"454f":function(t,e,o){o("46a7");var a=o("584a").Object;t.exports=function(t,e,o){return a.defineProperty(t,e,o)}},"46a7":function(t,e,o){var a=o("63b6");a(a.S+a.F*!o("8e60"),"Object",{defineProperty:o("d9f6").f})},"5b56":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("div",{staticClass:"bjcImg"}),o("div",{staticClass:"content"},[o("div",{staticClass:"logo"},[t.jshopconf.login_logo?o("el-image",{staticClass:"img",attrs:{src:t.jshopconf.login_logo,fit:"contain"}}):t._e()],1),o("p",{staticClass:"Log"},[t._v(t._s(t.$t("loginText1")))]),1!=t.jshopconf.metamask_switch?o("div",[o("div",{staticClass:"input Email"},[1==t.form.verify_type?o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{type:"text",placeholder:t.$t("loginText2")},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}):o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.mobile,expression:"form.mobile"}],attrs:{type:"text",placeholder:t.$t("loginText3")},domProps:{value:t.form.mobile},on:{input:function(e){e.target.composing||t.$set(t.form,"mobile",e.target.value)}}}),o("p",{staticClass:"method cursor",on:{click:function(e){t.form.verify_type=1==t.form.verify_type?2:1}}},[t._v("\n\t\t\t\t\t"+t._s(1==t.form.verify_type?t.$t("loginText12"):t.$t("loginText13"))+"\n\t\t\t\t")])]),o("div",{staticClass:"input Password"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",placeholder:t.$t("loginText14")},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),o("el-collapse-transition",[t.mistake?o("div",[o("p",{staticClass:"mistake"},[t._v(t._s(t.mistake))])]):t._e()]),o("div",{staticClass:"LogIn cursor",on:{click:t.LogClick}},[t._v("\n\t\t\t\t"+t._s(t.$t("loginText1"))+"\n\t\t\t")])],1):t._e(),o("div",{staticClass:"operation u-f-justify  mailbox cursor",on:{click:t.MetaMaskClick}},[t._m(0),t._v("\n\t\t\t"+t._s(t.$t("loginText4"))+"\n\t\t")]),o("div",{staticClass:"u-f-jsb skip"},[o("p",{on:{click:function(e){t.dialogVisible=!0}}},[t._v(t._s(1!=t.jshopconf.metamask_switch?t.$t("loginText5"):""))]),o("p",{on:{click:t.skip}},[t._v(t._s(t.$t("loginText6")))])]),o("p",{staticClass:"hint"},[t._v("\n\t\t\t"+t._s(t.$t("loginText7"))),o("span",[t._v(t._s(t.$t("loginText8")))]),t._v(t._s(t.$t("loginText9"))),o("span",[t._v(t._s(t.$t("loginText10")))]),t._v(t._s(t.$t("loginText11"))+"\n\t\t")])]),o("div",{staticClass:"support u-f cursor",on:{click:function(e){return t.$store.commit("account/onHelpCenter")}}},[t._m(1),o("p",[t._v(t._s(t.$t("loginText15")))])]),o("popUp",{attrs:{showDialog:t.popUpHint,borderBottom:!1,top:!1}},[o("p",{staticClass:"popUpHint"},[t._v("您的 MetaMask 钱包已在运行中，请在浏览器打开 MetaMask 扩展进行登录")]),o("div",{staticClass:"popUpHintOperation cursor",on:{click:function(e){t.popUpHint=!1}}},[t._v("确认")])]),o("popUp",{attrs:{showDialog:t.register,borderBottom:!1,top:!1}},[o("p",{staticClass:"popUpHint"},[t._v("当前 MetaMask 钱包还未绑定注册过 Isekai 账号，点击前往进行注册 ")]),o("div",{staticClass:"popUpHintOperation cursor",on:{click:t.registerSkip}},[t._v("确认")])]),o("popUp",{attrs:{showDialog:t.dialogVisible,title:"忘记密码",borderBottom:!1},on:{showDialogClick:function(e){t.dialogVisible=!1}}},[o("div",{staticClass:"setItem u-f "},[o("div",{staticClass:"setItemRight"},[o("p",{staticClass:"setItemRightName"},[t._v("输入您的"+t._s(1==t.form.verify_type?"邮箱":"手机号"))]),o("div",{staticClass:"inputBox"},[o("input",{attrs:{name:"",id:"",placeholder:"输入您的"+(1==t.form.verify_type?"邮箱":"手机号")}})]),o("p",{staticClass:"setItemRightName"},[t._v("输入您的新密码")]),o("div",{staticClass:"inputBox"},[o("input",{attrs:{type:"password",name:"",id:"",placeholder:"输入您的新密码"}})]),o("p",{staticClass:"setItemRightName"},[t._v("确认您的新密码")]),o("div",{staticClass:"u-f-item"},[o("div",{staticClass:"inputBox"},[o("input",{attrs:{type:"password",name:"",id:"",placeholder:"确认密码"}})]),o("p",{staticClass:"hint cursor lan"},[t._v("发送验证码")])]),o("p",{staticClass:"setItemRightName"},[t._v("填写验证码")]),o("div",{staticClass:"u-f-item"},[o("div",{staticClass:"inputBox ",staticStyle:{width:"300px","margin-bottom":"0"}},[o("input",{attrs:{type:"text",name:"",id:"",placeholder:"填写验证码"}})]),o("div",{staticClass:"save cursor",staticStyle:{"margin-left":"10px"}},[t._v("\n\t\t\t\t\t\t验证\n\t\t\t\t\t")])])])])])],1)},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Metamask"},[o("img",{staticClass:"img",attrs:{src:"https://ec.wexiang.vip/source/img1/30.png",alt:""}})])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{width:"28px",height:"29px"}},[o("img",{staticClass:"img",attrs:{src:"https://ec.wexiang.vip/source/img1/31.png",alt:""}})])}],n=(o("a481"),o("cebc")),s=(o("6b54"),o("87b3"),o("6d67"),o("c030")),r=o("50c5"),c=o("db6e"),l=o("94f8"),p=o.n(l),u={components:{popUp:r["a"]},data:function(){return{jshopconf:{},form:{password:"",platform:5,type:1,email:"",verify_type:1,mobile:""},mistake:"",bjc:"https://ec.wexiang.vip/source/img1/68.png",accountaddress:"",signature:"",popUpHint:!1,register:!1,dialogVisible:!1}},watch:{mistake:{handler:function(t){var e=this;t&&setTimeout(function(){e.mistake=""},2e3)}}},created:function(){this.getJshopconf(),this.getMerkletree()},methods:{getMerkletree:function(){var t=JSON.parse(localStorage.getItem("jshopconf")).address_list,e=t.map(function(t){return p()(t)}),o=new c["MerkleTree"](e,p.a,{sortPairs:!0});this.$post({method:"common.setmerkleroot",root:o.toString()},!1).then(function(t){console.log(t)})},skip:function(){this.$router.push({path:"/fullScreen/register/index"})},LogClick:function(){var t=this;this.$post(Object(n["a"])({method:"user.login"},this.form)).then(function(e){e.data.status?(t.$store.commit("account/onToken",e.data.data),localStorage.setItem("token",e.data.data),t.getMerkletree(),t.$post({method:"user.info",token:e.data.data}).then(function(e){localStorage.setItem("userInfo",JSON.stringify(e.data.data)),t.$router.replace("/explore/recommend")})):t.mistake=e.data.msg})},MetaMaskClick:function(){var t=this,e=this;ethereum.enable().then(function(t){var o=new s["a"].providers.Web3Provider(web3.currentProvider);o.getNetwork().then(function(t){if(1!=t["chainId"])return alert("请更换区块链"),!1;o.listAccounts().then(function(t){var o=this;e.accountaddress=t[0],localStorage.setItem("accountaddress",t[0]),e.$post({method:"user.wallectexist",address:t[0]}).then(function(t){t.data.data?(e.$store.commit("account/onToken",t.data.data),localStorage.setItem("token",t.data.data),o.getMerkletree(),e.$post({method:"user.info",token:t.data.data}).then(function(t){localStorage.setItem("userInfo",JSON.stringify(t.data.data)),e.$router.replace("/explore/recommend")})):e.register=!0})})})}).catch(function(e){-32002==e.code&&(t.popUpHint=!0)})},registerSkip:function(){this.$router.push({path:"/fullScreen/register/register",query:{type:"wallet"}})},getJshopconf:function(){var t=this;this.$post({method:"common.jshopconf"}).then(function(e){localStorage.setItem("jshopconf",JSON.stringify(e.data)),t.jshopconf=e.data})}}},f=u,m=(o("71b2"),o("2877")),d=Object(m["a"])(f,a,i,!1,null,"3702c594",null);e["default"]=d.exports},"6b54":function(t,e,o){"use strict";o("3846");var a=o("cb7c"),i=o("0bfb"),n=o("9e1e"),s="toString",r=/./[s],c=function(t){o("2aba")(RegExp.prototype,s,t,!0)};o("79e5")(function(){return"/a/b"!=r.call({source:"a",flags:"b"})})?c(function(){var t=a(this);return"/".concat(t.source,"/","flags"in t?t.flags:!n&&t instanceof RegExp?i.call(t):void 0)}):r.name!=s&&c(function(){return r.call(this)})},"6d67":function(t,e,o){"use strict";var a=o("5ca1"),i=o("0a49")(1);a(a.P+a.F*!o("2f21")([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},"71b2":function(t,e,o){"use strict";var a=o("f52e"),i=o.n(a);i.a},"85f2":function(t,e,o){t.exports=o("454f")},"87b3":function(t,e,o){var a=Date.prototype,i="Invalid Date",n="toString",s=a[n],r=a.getTime;new Date(NaN)+""!=i&&o("2aba")(a,n,function(){var t=r.call(this);return t===t?s.call(this):i})},"8aae":function(t,e,o){o("32a6"),t.exports=o("584a").Object.keys},a4bb:function(t,e,o){t.exports=o("8aae")},bd86:function(t,e,o){"use strict";o.d(e,"a",function(){return n});var a=o("85f2"),i=o.n(a);function n(t,e,o){return e in t?i()(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}},bf90:function(t,e,o){var a=o("36c3"),i=o("bf0b").f;o("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return i(a(t),e)}})},ce7e:function(t,e,o){var a=o("63b6"),i=o("584a"),n=o("294c");t.exports=function(t,e){var o=(i.Object||{})[t]||Object[t],s={};s[t]=e(o),a(a.S+a.F*n(function(){o(1)}),"Object",s)}},cebc:function(t,e,o){"use strict";o.d(e,"a",function(){return p});var a=o("268f"),i=o.n(a),n=o("e265"),s=o.n(n),r=o("a4bb"),c=o.n(r),l=o("bd86");function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},a=c()(o);"function"===typeof s.a&&(a=a.concat(s()(o).filter(function(t){return i()(o,t).enumerable}))),a.forEach(function(e){Object(l["a"])(t,e,o[e])})}return t}},e265:function(t,e,o){t.exports=o("ed33")},ed33:function(t,e,o){o("014b"),t.exports=o("584a").Object.getOwnPropertySymbols},f52e:function(t,e,o){},fde4:function(t,e,o){o("bf90");var a=o("584a").Object;t.exports=function(t,e){return a.getOwnPropertyDescriptor(t,e)}}}]);