(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b3a25ee"],{"51be":function(t,e,s){},"5b56":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"bjcImg"}),s("div",{staticClass:"content"},[s("div",{staticClass:"logo"},[s("el-image",{staticClass:"img",attrs:{src:t.jshopconf.login_logo,fit:"contain"}})],1),s("p",{staticClass:"Log"},[t._v(t._s(t.$t("loginText1")))]),s("div",{staticClass:"input Email"},[1==t.form.verify_type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],attrs:{type:"text",placeholder:t.$t("loginText2")},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.mobile,expression:"form.mobile"}],attrs:{type:"text",placeholder:t.$t("loginText3")},domProps:{value:t.form.mobile},on:{input:function(e){e.target.composing||t.$set(t.form,"mobile",e.target.value)}}}),s("p",{staticClass:"method cursor",on:{click:function(e){t.form.verify_type=1==t.form.verify_type?2:1}}},[t._v("\n\t\t\t\t"+t._s(1==t.form.verify_type?t.$t("loginText12"):t.$t("loginText13"))+"\n\t\t\t")])]),s("div",{staticClass:"input Password"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",placeholder:t.$t("loginText14")},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),s("el-collapse-transition",[t.mistake?s("div",[s("p",{staticClass:"mistake"},[t._v(t._s(t.mistake))])]):t._e()]),s("div",{staticClass:"LogIn cursor",on:{click:t.LogClick}},[t._v("\n\t\t\t"+t._s(t.$t("loginText1"))+"\n\t\t")]),s("div",{staticClass:"operation u-f-justify  mailbox cursor",on:{click:t.MetaMaskClick}},[t._m(0),t._v("\n\t\t\t"+t._s(t.$t("loginText4"))+"\n\t\t")]),s("div",{staticClass:"u-f-jsb skip"},[s("p",[t._v(t._s(t.$t("loginText5")))]),s("p",{on:{click:t.skip}},[t._v(t._s(t.$t("loginText6")))])]),s("p",{staticClass:"hint"},[t._v("\n\t\t\t"+t._s(t.$t("loginText7"))),s("span",[t._v(t._s(t.$t("loginText8")))]),t._v(t._s(t.$t("loginText9"))),s("span",[t._v(t._s(t.$t("loginText10")))]),t._v(t._s(t.$t("loginText11"))+"\n\t\t")])],1),s("div",{staticClass:"support u-f cursor"},[t._m(1),s("p",[t._v(t._s(t.$t("loginText15")))])])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Metamask"},[s("img",{staticClass:"img",attrs:{src:"https://ec.wexiang.vip/source/img1/30.png",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{width:"28px",height:"29px"}},[s("img",{staticClass:"img",attrs:{src:"https://ec.wexiang.vip/source/img1/31.png",alt:""}})])}],i=(s("78ce"),s("a481"),s("cebc")),n=s("c030"),r={data:function(){return{jshopconf:{},form:{password:"",platform:5,type:1,email:"",verify_type:1,mobile:""},mistake:"",bjc:"https://ec.wexiang.vip/source/img1/68.png",accountaddress:"",signature:""}},watch:{mistake:{handler:function(t){var e=this;t&&setTimeout(function(){e.mistake=""},2e3)}}},created:function(){this.getJshopconf()},methods:{skip:function(){this.$router.push({path:"/fullScreen/register/index"})},LogClick:function(){var t=this;this.$post(Object(i["a"])({method:"user.login"},this.form)).then(function(e){e.data.status?(t.$store.commit("account/onToken",e.data.data),localStorage.setItem("token",e.data.data),t.$post({method:"user.info",token:e.data.data}).then(function(e){localStorage.setItem("userInfo",JSON.stringify(e.data.data)),t.$router.replace("/explore/recommend")})):t.mistake=e.data.msg})},MetaMaskClick:function(){var t=this;ethereum.enable().then(function(){var e=new n["a"].providers.Web3Provider(web3.currentProvider);e.getNetwork().then(function(s){if(1!=s["chainId"])return alert("请更换区块链"),!1;e.listAccounts().then(function(s){t.accountaddress=s[0],localStorage.setItem("accountaddress",s[0]),t.$post({method:"user.wallectexist",address:s[0]}).then(function(s){if(s.data.data)t.$store.commit("account/onToken",s.data.data),localStorage.setItem("token",s.data.data),t.$post({method:"user.info",token:s.data.data}).then(function(e){localStorage.setItem("userInfo",JSON.stringify(e.data.data)),t.$router.replace("/explore/recommend")});else{var a=e.getSigner(),o=(Date.now()/1e3).toFixed(0),i=o-o%600;a.signMessage("Signning in to "+document.domain+"at"+i,t.accountaddress,"test password!").then(function(e){t.signature=e,t.$post({method:"user.checksign",address:t.accountaddress,sign:e}).then(function(e){e.data.status?t.$router.push({path:"/fullScreen/register/register",query:{type:"wallet"}}):t.$message({showClose:!0,message:e.data.msg,type:"error"})})})}})})})})},getJshopconf:function(){var t=this;this.$post({method:"common.jshopconf"}).then(function(e){localStorage.setItem("jshopconf",JSON.stringify(e.data)),t.jshopconf=e.data})}}},c=r,l=(s("ef8c"),s("2877")),m=Object(l["a"])(c,a,o,!1,null,"6c5cf788",null);e["default"]=m.exports},ef8c:function(t,e,s){"use strict";var a=s("51be"),o=s.n(a);o.a}}]);